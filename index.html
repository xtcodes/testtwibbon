<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PFP Twibbon</title>
<style>
body, html { margin:0; padding:0; font-family:Arial, sans-serif; }
#loadingScreen {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:#fff; display:flex; align-items:center; justify-content:center;
  font-size:2rem; z-index:9999;
}
#mainContent { display:none; text-align:center; padding:20px; }
#dropArea {
  width:100%; max-width:400px; aspect-ratio:1/1;
  border:2px dashed #aaa; border-radius:12px; margin:20px auto;
  display:flex; align-items:center; justify-content:center;
  color:#888; cursor:pointer; transition:border-color 0.3s;
}
#dropArea.hover { border-color:#555; }
</style>
</head>
<body>

<div id="loadingScreen">Loading...</div>

<div id="mainContent">
  <div id="article">
    <h2>Proyek PFP Twibbon</h2>
    <p>Unggah gambar Anda untuk membuat PFP dengan twibbon interaktif.</p>
  </div>
  <div id="dropArea">Klik atau seret gambar di sini</div>
  <input type="file" id="fileInput" accept="image/*" style="display:none;">
</div>

<script>
const loadingScreen = document.getElementById('loadingScreen');
const mainContent = document.getElementById('mainContent');
const dropArea = document.getElementById('dropArea');
const fileInput = document.getElementById('fileInput');

// Loading 10 detik
setTimeout(()=>{
  loadingScreen.style.display='none';
  mainContent.style.display='block';
},10000);

// Klik dan drag&drop
dropArea.addEventListener('click',()=>fileInput.click());
dropArea.addEventListener('dragover', e=>{ e.preventDefault(); dropArea.classList.add('hover'); });
dropArea.addEventListener('dragleave', ()=>dropArea.classList.remove('hover'));
dropArea.addEventListener('drop', e=>{
  e.preventDefault(); dropArea.classList.remove('hover');
  if(e.dataTransfer.files.length) sendToUpload(e.dataTransfer.files[0]);
});
fileInput.addEventListener('change', ()=>{ if(fileInput.files.length) sendToUpload(fileInput.files[0]); });

function sendToUpload(file){
  // Simpan file di localStorage sementara sebagai URL
  const reader = new FileReader();
  reader.onload = e=>{
    localStorage.setItem('userImage', e.target.result);
    window.location.href = 'upload.html';
  };
  reader.readAsDataURL(file);
}
</script>

</body>
</html>
